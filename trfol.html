<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Terabox Downloader</title>
</head>
<body>
  <h2>Enter Terabox Link:</h2>
  <input type="text" id="linkInput" placeholder="Enter Terabox Link" style="width: 300px;">
  <button onclick="generateLink()">Generate Download</button>

  <div id="result" style="margin-top: 20px;"></div>

  <script>
    async function generateLink() {
      const link = document.getElementById("linkInput").value;
      const resultDiv = document.getElementById("result");
      resultDiv.innerHTML = "Processing...";

      if (!link.includes("terabox")) {
        resultDiv.innerHTML = "Please enter a valid Terabox link.";
        return;
      }

      try {
        const response = await fetch(`https://terabox-pro-api.vercel.app/api?link=${encodeURIComponent(link)}`);
        const data = await response.json();

        if (data.status !== true || !data.data?.directLink) {
          resultDiv.innerHTML = "Failed to generate download link.";
          return;
        }

        const fileName = data.data.name || "Download File";
        const downloadUrl = data.data.directLink;

        resultDiv.innerHTML = `
          <p><strong>${fileName}</strong> is ready to download:</p>
          <a href="${downloadUrl}" target="_blank">
            <button>⬇️ Download Now</button>
          </a>
        `;
      } catch (err) {
        console.error(err);
        resultDiv.innerHTML = "Error while processing link.";
      }
    }
  </script>
</body>
</html>
